<html>
    <head>


    </head>
    <body>
        <div id="map" style="width: 600px; height: 300px"></div>
        </div>
        <script type="text/javascript">
            function sleep (time) {
                console.log('sleeping...', time);
                return new Promise((resolve) => setTimeout(resolve, time));
            }

            src = 'https://api-maps.yandex.ru/2.1/?lang=en_RU';

            this.promise = this.promise || new Promise((resolve, reject) => {
                var elem = document.createElement('script');
                elem.type = 'text/javascript';
                elem.src = src;
                elem.onload = resolve;
                elem.onerror = function (e) {
                    return reject(e);
                };
                document.body.appendChild(elem);
            })
            .then(() => {
                ymaps.ready(function () {
                    console.log('this', this);
                    var map = ymaps.Map('map', {
                        center: [39.889847, 32.810152],
                        zoom: 16,
                        controls: ['default', 'routeEditor']
                    });
                })
            });
        </script>
        <!-- <script src="https://api-maps.yandex.ru/2.1/?lang=en_US&load=Map,Placemark" onload="onloadhandler" type="text/javascript">
        </script> -->
    </body>
</html>
